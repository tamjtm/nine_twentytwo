{% extends "base_generic.html"%}

{% load crispy_forms_tags %}

{% block title %}Upload{% endblock %}


{% block content %}
<div class="border rounded mt-5 w-50 mx-auto">
    <h1 class="mt-2 ml-3">Upload Images</h1>
    <hr class="mt-0 mb-4">
    <form method="post" enctype="multipart/form-data" class="mx-auto" style="width: 500px;">
        {% csrf_token %}
        {{ form | crispy }}
        <div class="form-group">
            <label for="original_image">Metaphase Images*</label>
            <input type="file" class="form-control-file" id="original_image" name="images" accept="image/*" multiple required>
<!--            <input type="file" class="form-control-file" id="original_image" name="images" accept="image/*" required>-->
        </div>
        <div class="mt-3 mb-2 text-right">
            <button type="submit" class="btn btn-primary" id="btn-upload">Upload</button>
        </div>
    </form>

    <center class="mt-4 mb-3" id="progressbar">
        <p id="progress-title"></p>
        <div class="progress" style="width: 90%;">
            <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">..Loading..</div>
        </div>
    </center>
<!--    <button type="button" class="btn btn-primary" id="btn-upload">Upload</button>-->
    <script>
        $(document).ready(function(){
          $("#btn-upload").click(function(){
            $('form').submit(function()
            {
                $('#progressbar').show();
                $('#progress-title').text({{ message }})
            })
          });
        });
    </script>
</div>
{% endblock %}